<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Nguyễn Nam Trung Nguyên" content="23640731" />
    <title>Part 1 Coding Challenge 3</title>
  </head>
  <body>
    <!-- 
    Có hai đội thể dục dụng cụ, Cá heo và Gấu Koala. Họ thi đấu với nhau 3 lần. 
    Đội có điểm trung bình cao nhất sẽ giành được cúp!

    Nhiệm vụ của bạn:
    1. Tính điểm trung bình của mỗi đội, sử dụng dữ liệu kiểm tra bên dưới.

    2. So sánh điểm trung bình của các đội để xác định đội thắng cuộc và in kết quả ra màn hình. 
    Đừng quên rằng có thể xảy ra trường hợp hòa, vì vậy hãy kiểm tra cả trường hợp đó (hòa nghĩa là hai đội có điểm trung bình bằng nhau).

    3. Bonus 1: Bao gồm yêu cầu điểm tối thiểu là 100. 
    Với quy tắc này, một Đội chỉ thắng nếu có điểm số cao hơn đội kia, đồng thời điểm số đó phải ít nhất là 100 điểm.
    Gợi ý: Sử dụng toán tử logic để kiểm tra điểm số tối thiểu, cũng như nhiều khối else-if.

    4. Bonus 2: Điểm số tối thiểu cũng áp dụng cho trường hợp hòa! Vì vậy, trận hòa chỉ xảy ra khi cả hai đội có cùng điểm số và mỗi đội có điểm số lớn hơn hoặc bằng 100 điểm. 
    Nếu không, không đội nào giành được cúp

    § Data 1: Cá heo đạt điểm 96, 108 và 89. Gấu Koala đạt điểm 88, 91 và 110.
    § Data Bonus 1: Cá heo đạt điểm 97, 112 và 101. Gấu Koala đạt điểm 109, 95 và 123.
    § Data Bonus 2: Cá heo đạt điểm 97, 112 và 101. Gấu Koala đạt điểm 109, 95 và 106.
    -->
    <script>
      const calcAverage = (scores) =>
        scores.reduce((sum, s) => sum + s, 0) / scores.length;

      const checkWinner = (dolphinsScores, koalasScores, label) => {
        console.log(`------${label}------`);
        console.log(`Dolphins: ${dolphinsScores}`);
        console.log(`Koalas: ${koalasScores}`);

        const avgD = calcAverage(dolphinsScores);
        const avgK = calcAverage(koalasScores);

        console.log(`Trung bình Dolphins: ${avgD.toFixed(2)} điểm`);
        console.log(`Trung bình Koalas: ${avgK.toFixed(2)} điểm`);
        console.log("Kết quả........");

        const minScore = 100;

        if (avgD >= minScore && avgD > avgK) {
          console.log(`Dolphins win (${avgD.toFixed(2)} > ${avgK.toFixed(2)})`);
        } else if (avgK >= minScore && avgK > avgD) {
          console.log(`Koalas win (${avgK.toFixed(2)} > ${avgD.toFixed(2)})`);
        } else if (avgD >= minScore && avgK >= minScore && avgD === avgK) {
          console.log(
            `Hai đội hòa (${avgD.toFixed(2)} điểm) và đều đạt >= 100!`
          );
        } else {
          console.log("Không đội nào giành chiến thắng :((");
        }

        console.log("---------------------------");
      };

      checkWinner([96, 108, 89], [88, 91, 110], "Test Data 1");
      checkWinner([97, 112, 101], [109, 95, 123], "Data Bonus 1");
      checkWinner([97, 112, 101], [109, 95, 106], "Data Bonus 2");
    </script>
  </body>
</html>
